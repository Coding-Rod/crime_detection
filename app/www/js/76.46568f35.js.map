{"version":3,"file":"js/76.46568f35.js","mappings":"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","sources":["webpack://@coreui/coreui-free-vue-admin-template/./src/utils/verifyToken.js","webpack://@coreui/coreui-free-vue-admin-template/./src/components/Loader.vue","webpack://@coreui/coreui-free-vue-admin-template/./src/components/Loader.vue?b8fd","webpack://@coreui/coreui-free-vue-admin-template/./src/views/system/ActiveNodes.vue","webpack://@coreui/coreui-free-vue-admin-template/./src/views/system/ActiveNodes.vue?10fe"],"sourcesContent":["import router from \"@/router\";\n\nconst verifyToken = () => {\n  if (!localStorage.getItem(\"token\"))\n    router.push({ name: \"Login\" });\n}\n\nexport default verifyToken;","<template>\n  <CSpinner color=\"primary\" variant=\"grow\" class=\"spinner\" />\n</template>\n\n<script>\nexport default {};\n</script>\n\n<style scoped>\n.spinner {\n  position: relative;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 10;\n  margin-top: 100px;\n  margin-bottom: 100px;\n}\n</style>","import { render } from \"./Loader.vue?vue&type=template&id=b0139718&scoped=true\"\nimport script from \"./Loader.vue?vue&type=script&lang=js\"\nexport * from \"./Loader.vue?vue&type=script&lang=js\"\n\nimport \"./Loader.vue?vue&type=style&index=0&id=b0139718&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/rodri/Documents/Weapon_detection/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b0139718\"]])\n\nexport default __exports__","<template>\n  <div>\n  <CContainer>\n    <h1 class=\"h3 mb-3 text-center\">Active Nodes</h1>\n    <!-- for with accordions -->\n    <template v-if=\"nodes.length > 0\">\n      <CAccordion v-for=\"node in nodes\" :key=\"node.id\">\n        <CAccordionItem :item-key=\"node.id\">\n          <CAccordionHeader> Node {{ node.id }} - {{ node.name }} </CAccordionHeader>\n          <CAccordionBody>\n            <CContainer>\n              <CRow>\n                <CCol>\n                  <h1 class=\"h4 mb-3 text-center\">Node {{ node.id }}</h1>\n                </CCol>\n              </CRow>\n              <CRow>\n                <CCol md=\"3\" xs=\"12\">\n                  <p class=\"text mb-3\">Node Name: {{ node.name }}</p>\n                  <p class=\"text mb-3\">Node location: {{ node.location }}</p>\n                  <p class=\"text mb-3\">\n                    Node status: {{ node.status ? \"Active ðŸŸ¢\" : \"Inactive ðŸ”´\" }}\n                  </p>\n                </CCol>\n                <!-- <CCol md=\"9\" xs=\"12\">\n                  <img :src=\"node.video\" alt=\"node image\" class=\"img-fluid\" />\n                </CCol> -->\n              </CRow>\n              <CRow>\n                <CCol class=\"d-grid gap-2 mt-3\">\n                  <CButtonGroup\n                    :class=\"{\n                      'ms-auto': screenwidth > 768,\n                      'text-white': true,\n                    }\"\n                  >\n                    <!-- <CButton color=\"primary\" type=\"button\" class=\"text-white\"\n                      >Record\n                    </CButton> -->\n                    <CButton\n                      color=\"danger\"\n                      type=\"button\"\n                      class=\"text-white\"\n                      @click=\"nodeToErase = node.id\"\n                    >\n                      <CIcon name=\"cil-trash\" />\n                    </CButton>\n                  </CButtonGroup>\n                  <!-- <CButton\n                  color=\"primary\"\n                  :class=\"{ 'ms-auto': screenwidth > 768, 'text-white': true }\"\n                  type=\"button\"\n                  >Record\n                </CButton> -->\n                </CCol>\n              </CRow>\n            </CContainer>\n          </CAccordionBody>\n        </CAccordionItem>\n      </CAccordion>\n    </template>\n    <template v-else-if=\"error\">\n      <p class=\"text-center\">No active nodes</p>\n    </template>\n    <Loader v-else />\n  </CContainer>\n  <CModal\n    :visible=\"nodeToErase\"\n      @close=\"\n        () => {\n          nodeToErase = null;\n        }\n      \"\n  >\n    <CModalHeader>\n      <CModalTitle>Confirmation</CModalTitle>\n    </CModalHeader>\n    <CModalBody>\n      <p>Are you sure you want to delete this node?</p>\n    </CModalBody>\n    <CModalFooter>\n      <CButton color=\"secondary\" @click=\"nodeToErase = null\">Cancel</CButton>\n      <CButton color=\"danger\" @click=\"deleteNode(nodeToErase)\">\n        Delete\n      </CButton>\n    </CModalFooter>\n  </CModal>\n  </div>\n</template>\n0 auto\n<script>\nimport axios from \"axios\";\nimport Loader from \"@/components/Loader.vue\";\nimport verifyToken from \"@/utils/verifyToken.js\";\n\nexport default {\n  name: \"ActiveNodes\",\n  data() {\n    return {\n      screenwidth: window.innerWidth,\n      nodes: [],\n      error: null,\n      nodeToErase: null,\n    };\n  },\n  components: {\n    Loader,\n  },\n  methods: {\n    handleResize() {\n      this.screenwidth = window.innerWidth;\n    },\n    async deleteNode(id) {\n      try {\n        const response = await axios.delete(\n          `${this.$store.state.API_URL}/nodes/${id}/`,\n          {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n            },\n          }\n        );\n        this.nodes = this.nodes.filter((node) => node.id !== id);\n      } catch (error) {\n        this.error = error;\n      }\n    },\n  },\n  async mounted() {\n    window.addEventListener(\"resize\", this.handleResize);\n    console.log(`${this.$store.state.API_URL}/nodes/`);\n    try {\n      const response = await axios.get(`${this.$store.state.API_URL}/nodes/`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n      console.log(response.data);\n      this.nodes = response.data;\n    } catch (error) {\n      this.error = error;\n    }\n  },\n  beforeMount() {\n    verifyToken();\n  },\n};\n</script>\n\n<style slot=\"sass\">\n</style>","import { render } from \"./ActiveNodes.vue?vue&type=template&id=12bf6414\"\nimport script from \"./ActiveNodes.vue?vue&type=script&lang=js\"\nexport * from \"./ActiveNodes.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/rodri/Documents/Weapon_detection/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["verifyToken","localStorage","getItem","router","name","_createBlock","_component_CSpinner","color","variant","class","__exports__","render","_createElementVNode","_createElementBlock","_createVNode","_component_CContainer","_hoisted_1","$data","length","_Fragment","key","node","_component_CAccordion","id","_component_CAccordionItem","_component_CAccordionHeader","_component_CAccordionBody","_component_CRow","_component_CCol","_hoisted_2","md","xs","_hoisted_3","_hoisted_4","location","_hoisted_5","status","_component_CButtonGroup","_normalizeClass","_component_CButton","type","onClick","_component_CIcon","_hoisted_6","_component_Loader","_component_CModal","visible","onClose","_component_CModalHeader","_component_CModalTitle","_component_CModalBody","_hoisted_7","_component_CModalFooter","$options","data","screenwidth","window","innerWidth","nodes","error","nodeToErase","components","Loader","methods","handleResize","this","deleteNode","axios","$store","state","API_URL","headers","Authorization","filter","mounted","addEventListener","console","log","response","beforeMount"],"sourceRoot":""}