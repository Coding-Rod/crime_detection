{"version":3,"file":"js/560.de42e605.js","mappings":"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","sources":["webpack://@coreui/coreui-free-vue-admin-template/./src/utils/verifyToken.js","webpack://@coreui/coreui-free-vue-admin-template/./src/views/user/Notifications.vue","webpack://@coreui/coreui-free-vue-admin-template/./src/views/user/Notifications.vue?ce5d"],"sourcesContent":["import router from \"@/router\";\n\nconst verifyToken = () => {\n  if (!localStorage.getItem(\"token\"))\n    router.push({ name: \"Login\" });\n}\n\nexport default verifyToken;","<template>\n  <CContainer>\n    <CRow>\n      <CCol>\n        <h1>Notifications</h1>\n      </CCol>\n    </CRow>\n    <CTable>\n      <CTableHead>\n        <CTableRow color=\"dark\">\n          <CTableHeaderCell scope=\"col\">#</CTableHeaderCell>\n          <CTableHeaderCell scope=\"col\">Message</CTableHeaderCell>\n          <CTableHeaderCell scope=\"col\">Owner</CTableHeaderCell>\n          <CTableHeaderCell scope=\"col\">Date</CTableHeaderCell>\n        </CTableRow>\n      </CTableHead>\n      <CTableBody>\n        <CTableRow\n          v-for=\"(notification, index) in format_date_notification\"\n          :key=\"index\"\n          :color=\"colors[notification.type - 1]\"\n        >\n          <CTableHeaderCell scope=\"row\">{{ index + 1 }}</CTableHeaderCell>\n          <CTableDataCell><CIcon :icon=\"icons[notification.type - 1]\" size=\"lg\" /> {{ notification.message }}</CTableDataCell>\n          <CTableDataCell>{{ notification.name }}</CTableDataCell>\n          <CTableDataCell>{{ notification.created_at }}</CTableDataCell>\n        </CTableRow>\n        <CTableRow color=\"light\" v-if=\"more\">\n          <CTableDataCell colspan=\"3\" class=\"text-center\">\n            <CButton @click=\"offset += 10\" color=\"link\" style=\"text-decoration: none\">\n              Load more\n            </CButton>\n          </CTableDataCell>\n        </CTableRow>\n      </CTableBody>\n    </CTable>\n  </CContainer>\n</template>\n\n<script>\nimport verifyToken from \"@/utils/verifyToken\";\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      notifications: [],\n      offset: 0,\n      more: true,\n      colors: [\"primary\", \"secondary\", \"danger\"],\n      icons: [\n        'cil-memory',\n        'cil-user',\n        'cil-warning',\n        'cil-laptop',\n      ],\n    };\n  },\n  computed: {\n    format_date_notification() {\n      return this.notifications.map((notification) => {\n        return {\n          ...notification,\n          created_at: new Date(notification.created_at).toLocaleString(\n            \"en-US\",\n            {\n              month: \"long\",\n              day: \"numeric\",\n              hour: \"numeric\",\n              minute: \"numeric\",\n            }\n          ),\n        };\n      });\n    },\n  },\n  watch: {\n    offset() {\n      this.getNotifications();\n    },\n  },\n  methods: {\n    async getNotifications() {\n      axios\n        .get(\n          this.$store.state.API_URL +\n            \"/notifications?types=1,2,3&limit=11&offset=\" +\n            this.offset,\n          {\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n            },\n          }\n        )\n        .then((response) => {\n          this.more = response.data.length > 10;\n          if (this.more) response.data.pop();\n          this.notifications = this.notifications.concat(response.data);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },  \n  beforeMount() {\n    verifyToken();\n  },\n  mounted() {\n    this.getNotifications();\n  },\n};\n</script>\n\n<style>\n</style>","import { render } from \"./Notifications.vue?vue&type=template&id=0f980370\"\nimport script from \"./Notifications.vue?vue&type=script&lang=js\"\nexport * from \"./Notifications.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/rodri/Documents/Weapon_detection/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["verifyToken","localStorage","getItem","router","name","_createElementVNode","_createBlock","_component_CContainer","_createVNode","_component_CRow","_component_CCol","_hoisted_1","_component_CTable","_component_CTableHead","_component_CTableRow","color","_component_CTableHeaderCell","scope","_component_CTableBody","_createElementBlock","_Fragment","$options","notification","index","key","$data","type","_component_CTableDataCell","_component_CIcon","icon","size","message","created_at","colspan","class","_component_CButton","onClick","style","data","notifications","offset","more","colors","icons","computed","format_date_notification","this","map","Date","toLocaleString","month","day","hour","minute","watch","getNotifications","methods","axios","$store","state","API_URL","headers","Authorization","then","response","length","pop","concat","error","console","log","beforeMount","mounted","__exports__","render"],"sourceRoot":""}