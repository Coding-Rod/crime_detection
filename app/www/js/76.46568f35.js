"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[76],{52766:(e,n,t)=>{t.d(n,{Z:()=>u});t(57658);var r=t(97993),o=function(){localStorage.getItem("token")||r.Z.push({name:"Login"})};const u=o},70761:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(73396);function o(e,n,t,o,u,a){var c=(0,r.up)("CSpinner");return(0,r.wg)(),(0,r.j4)(c,{color:"primary",variant:"grow",class:"spinner"})}const u={};var a=t(40089);const c=(0,a.Z)(u,[["render",o],["__scopeId","data-v-b0139718"]]),l=c},49076:(e,n,t)=>{t.r(n),t.d(n,{default:()=>W});t(68309);var r=t(73396),o=t(87139),u=(0,r._)("h1",{class:"h3 mb-3 text-center"},"Active Nodes",-1),a={class:"h4 mb-3 text-center"},c={class:"text mb-3"},l={class:"text mb-3"},i={class:"text mb-3"},d={key:1,class:"text-center"},s=(0,r._)("p",null,"Are you sure you want to delete this node?",-1);function f(e,n,t,f,w,m){var p=(0,r.up)("CAccordionHeader"),_=(0,r.up)("CCol"),h=(0,r.up)("CRow"),v=(0,r.up)("CIcon"),C=(0,r.up)("CButton"),k=(0,r.up)("CButtonGroup"),W=(0,r.up)("CContainer"),g=(0,r.up)("CAccordionBody"),x=(0,r.up)("CAccordionItem"),Z=(0,r.up)("CAccordion"),b=(0,r.up)("Loader"),y=(0,r.up)("CModalTitle"),A=(0,r.up)("CModalHeader"),z=(0,r.up)("CModalBody"),N=(0,r.up)("CModalFooter"),I=(0,r.up)("CModal");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(W,null,{default:(0,r.w5)((function(){return[u,w.nodes.length>0?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(w.nodes,(function(e){return(0,r.wg)(),(0,r.j4)(Z,{key:e.id},{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{"item-key":e.id},{default:(0,r.w5)((function(){return[(0,r.Wm)(p,null,{default:(0,r.w5)((function(){return[(0,r.Uk)(" Node "+(0,o.zw)(e.id)+" - "+(0,o.zw)(e.name),1)]})),_:2},1024),(0,r.Wm)(g,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(W,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(h,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(_,null,{default:(0,r.w5)((function(){return[(0,r._)("h1",a,"Node "+(0,o.zw)(e.id),1)]})),_:2},1024)]})),_:2},1024),(0,r.Wm)(h,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(_,{md:"3",xs:"12"},{default:(0,r.w5)((function(){return[(0,r._)("p",c,"Node Name: "+(0,o.zw)(e.name),1),(0,r._)("p",l,"Node location: "+(0,o.zw)(e.location),1),(0,r._)("p",i," Node status: "+(0,o.zw)(e.status?"Active ðŸŸ¢":"Inactive ðŸ”´"),1)]})),_:2},1024)]})),_:2},1024),(0,r.Wm)(h,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(_,{class:"d-grid gap-2 mt-3"},{default:(0,r.w5)((function(){return[(0,r.Wm)(k,{class:(0,o.C_)({"ms-auto":w.screenwidth>768,"text-white":!0})},{default:(0,r.w5)((function(){return[(0,r.Wm)(C,{color:"danger",type:"button",class:"text-white",onClick:function(n){return w.nodeToErase=e.id}},{default:(0,r.w5)((function(){return[(0,r.Wm)(v,{name:"cil-trash"})]})),_:2},1032,["onClick"])]})),_:2},1032,["class"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["item-key"])]})),_:2},1024)})),128)):w.error?((0,r.wg)(),(0,r.iD)("p",d,"No active nodes")):((0,r.wg)(),(0,r.j4)(b,{key:2}))]})),_:1}),(0,r.Wm)(I,{visible:w.nodeToErase,onClose:n[2]||(n[2]=function(){w.nodeToErase=null})},{default:(0,r.w5)((function(){return[(0,r.Wm)(A,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(y,null,{default:(0,r.w5)((function(){return[(0,r.Uk)("Confirmation")]})),_:1})]})),_:1}),(0,r.Wm)(z,null,{default:(0,r.w5)((function(){return[s]})),_:1}),(0,r.Wm)(N,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(C,{color:"secondary",onClick:n[0]||(n[0]=function(e){return w.nodeToErase=null})},{default:(0,r.w5)((function(){return[(0,r.Uk)("Cancel")]})),_:1}),(0,r.Wm)(C,{color:"danger",onClick:n[1]||(n[1]=function(e){return m.deleteNode(w.nodeToErase)})},{default:(0,r.w5)((function(){return[(0,r.Uk)(" Delete ")]})),_:1})]})),_:1})]})),_:1},8,["visible"])])}var w=t(50124),m=t(48534),p=(t(92222),t(57327),t(41539),t(44161)),_=t(70761),h=t(52766);const v={name:"ActiveNodes",data:function(){return{screenwidth:window.innerWidth,nodes:[],error:null,nodeToErase:null}},components:{Loader:_.Z},methods:{handleResize:function(){this.screenwidth=window.innerWidth},deleteNode:function(e){var n=this;return(0,m.Z)((0,w.Z)().mark((function t(){return(0,w.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.Z["delete"]("".concat(n.$store.state.API_URL,"/nodes/").concat(e,"/"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:t.sent,n.nodes=n.nodes.filter((function(n){return n.id!==e})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),n.error=t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},mounted:function(){var e=this;return(0,m.Z)((0,w.Z)().mark((function n(){var t;return(0,w.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return window.addEventListener("resize",e.handleResize),console.log("".concat(e.$store.state.API_URL,"/nodes/")),n.prev=2,n.next=5,p.Z.get("".concat(e.$store.state.API_URL,"/nodes/"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 5:t=n.sent,console.log(t.data),e.nodes=t.data,n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),e.error=n.t0;case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()},beforeMount:function(){(0,h.Z)()}};var C=t(40089);const k=(0,C.Z)(v,[["render",f]]),W=k}}]);
//# sourceMappingURL=76.46568f35.js.map